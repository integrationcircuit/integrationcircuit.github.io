"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./components/Chat/Chat.tsx":
/*!**********************************!*\
  !*** ./components/Chat/Chat.tsx ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: function() { return /* binding */ Chat; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hot-toast */ \"./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var next_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-i18next */ \"./node_modules/next-i18next/dist/esm/index.js\");\n/* harmony import */ var _utils_app_conversation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/utils/app/conversation */ \"./utils/app/conversation.ts\");\n/* harmony import */ var _utils_data_throttle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/utils/data/throttle */ \"./utils/data/throttle.ts\");\n/* harmony import */ var _pages_api_home_home_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/pages/api/home/home.context */ \"./pages/api/home/home.context.tsx\");\n/* harmony import */ var _ChatInput__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ChatInput */ \"./components/Chat/ChatInput.tsx\");\n/* harmony import */ var _ChatLoader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ChatLoader */ \"./components/Chat/ChatLoader.tsx\");\n/* harmony import */ var _MemoizedChatMessage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MemoizedChatMessage */ \"./components/Chat/MemoizedChatMessage.tsx\");\n/* harmony import */ var _Logo__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Logo */ \"./components/Chat/Logo.tsx\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\nconst Chat = /*#__PURE__*/ _s((0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(_c = _s((param)=>{\n    let { stopConversationRef } = param;\n    var _selectedConversation_messages;\n    _s();\n    const { t } = (0,next_i18next__WEBPACK_IMPORTED_MODULE_3__.useTranslation)(\"chat\");\n    const { state: { selectedConversation, conversations, loading }, handleUpdateConversation, dispatch: homeDispatch } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_pages_api_home_home_context__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\n    const [currentMessage, setCurrentMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    const [autoScrollEnabled, setAutoScrollEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showScrollDownButton, setShowScrollDownButton] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [animatedMessage, setAnimatedMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showLogo, setShowLogo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const lastScrollY = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const chatContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const handleSend = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async function(message) {\n        let deleteCount = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, plugin = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n        if (selectedConversation) {\n            let updatedConversation;\n            if (deleteCount) {\n                const updatedMessages = [\n                    ...selectedConversation.messages\n                ];\n                for(let i = 0; i < deleteCount; i++){\n                    updatedMessages.pop();\n                }\n                updatedConversation = {\n                    ...selectedConversation,\n                    messages: [\n                        ...updatedMessages,\n                        message\n                    ]\n                };\n            } else {\n                updatedConversation = {\n                    ...selectedConversation,\n                    messages: [\n                        ...selectedConversation.messages,\n                        message\n                    ]\n                };\n            }\n            homeDispatch({\n                field: \"selectedConversation\",\n                value: updatedConversation\n            });\n            homeDispatch({\n                field: \"loading\",\n                value: true\n            });\n            homeDispatch({\n                field: \"messageIsStreaming\",\n                value: true\n            });\n            const chatBody = {\n                messages: updatedConversation.messages\n            };\n            var _localStorage_getItem;\n            //const endpoint = process.env.NEXT_PUBLIC_API_ENDPOINT;\n            //const bearerToken = process.env.NEXT_PUBLIC_BEARER_TOKEN;\n            //const endpoint = 'https://snapgpt.labs.snaplogicdev.com/api/1/rest/slsched/feed/snaplogic/se-demo/shared/hr_demo_se_team_task';\n            //const bearerToken = 'OiEVMJqdIJJJeD2wmlzGdAFuOlW92N7R';\n            let endpoint = (_localStorage_getItem = localStorage.getItem(\"userUri\")) !== null && _localStorage_getItem !== void 0 ? _localStorage_getItem : \"\";\n            var _localStorage_getItem1;\n            let bearerToken = (_localStorage_getItem1 = localStorage.getItem(\"userToken\")) !== null && _localStorage_getItem1 !== void 0 ? _localStorage_getItem1 : \"\";\n            console.log(\"endpoint: \", endpoint);\n            console.log(\"bearerToken: \", bearerToken);\n            console.log(\"process.env.NEXT_PUBLIC_API_ENDPOINT\", process.env.NEXT_PUBLIC_API_ENDPOINT);\n            console.log(\"process.env.NEXT_PUBLIC_BEARER_TOKEN\", process.env.NEXT_PUBLIC_BEARER_TOKEN);\n            if (typeof endpoint === \"undefined\" || typeof bearerToken === \"undefined\") {\n                throw new Error(\"NEXT_PUBLIC_API_ENDPOINT or NEXT_PUBLIC_BEARER_TOKEN is not defined\");\n            }\n            let body;\n            const jsonRequest = {\n                \"source\": null,\n                \"prompt\": message[\"content\"]\n            };\n            const controller = new AbortController();\n            console.log(\"jsonContent\", jsonRequest);\n            body = JSON.stringify(jsonRequest);\n            const response = await fetch(endpoint, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(bearerToken)\n                },\n                signal: controller.signal,\n                body\n            });\n            if (!response.ok) {\n                console.log(\"nonono !response.ok\");\n                homeDispatch({\n                    field: \"loading\",\n                    value: false\n                });\n                homeDispatch({\n                    field: \"messageIsStreaming\",\n                    value: false\n                });\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"].error(response.statusText);\n                return;\n            }\n            const data = response.body;\n            if (!data) {\n                homeDispatch({\n                    field: \"loading\",\n                    value: false\n                });\n                homeDispatch({\n                    field: \"messageIsStreaming\",\n                    value: false\n                });\n                return;\n            } else {\n                var _baseAnswer_choices_;\n                const jsonResponse = await response.json();\n                console.log(\"jsonResponse\", jsonResponse);\n                /*For old llm snaps, please use this line */ // let answer: string = jsonResponse[0].choices[0].content as string; \n                /*For new llm snappakcs, please use this line */ console.log(jsonResponse[0]);\n                // STAN\n                // let answer: string = jsonResponse[0].choices[0].message.content as string;\n                // ROGER\n                let answer = jsonResponse[0].completion;\n                //let answer: string = jsonResponse[0];\n                // START STAN\n                let baseAnswer = jsonResponse[0];\n                let finalAnswer = \"\";\n                if (baseAnswer.choices && ((_baseAnswer_choices_ = baseAnswer.choices[0]) === null || _baseAnswer_choices_ === void 0 ? void 0 : _baseAnswer_choices_.content)) {\n                    finalAnswer = baseAnswer.choices[0].content;\n                } else if (baseAnswer.completion) {\n                    finalAnswer = baseAnswer.completion;\n                } else {\n                    finalAnswer = baseAnswer;\n                }\n                answer = finalAnswer;\n                // END STAN\n                console.log(\"LLM snap answer: \", answer);\n                // **************Redline*****************\n                // render answer with Red Line use case\n                if (answer !== null && answer.includes(\"[Red Line]\")) {\n                    // Disable potential HTML tags from original answer to avoid XSS Attack\n                    answer.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n                    // Split the answer into sentences\n                    const sentences = answer.split(RegExp(\"(?<!\\\\s\\\\.)([.!?])\"));\n                    // Identify sentences after [Red Line] and wrap them in a span with a red underline\n                    answer = sentences.map((sentence)=>{\n                        console.log(\"sentence: \", sentence);\n                        if (sentence.includes(\"[Red Line]\")) {\n                            const [, restOfSentence] = sentence.split(\"[Red Line]\");\n                            return ' <span style=\"border-bottom: 2px solid red;\">'.concat(restOfSentence.trim(), \"</span>\");\n                        } else {\n                            return sentence;\n                        }\n                    }).join(\"\");\n                    console.log(\"Rendered HTML result with red line: \", answer);\n                }\n                // **************Redline*****************\n                const updatedMessages = [\n                    ...updatedConversation.messages,\n                    {\n                        role: \"assistant\",\n                        content: answer\n                    }\n                ];\n                updatedConversation = {\n                    ...updatedConversation,\n                    messages: updatedMessages\n                };\n                homeDispatch({\n                    field: \"selectedConversation\",\n                    value: updatedConversation\n                });\n                (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_4__.saveConversation)(updatedConversation);\n                const updatedConversations = conversations.map((conversation)=>{\n                    if (conversation.id === selectedConversation.id) {\n                        return updatedConversation;\n                    }\n                    return conversation;\n                });\n                if (updatedConversations.length === 0) {\n                    updatedConversations.push(updatedConversation);\n                }\n                homeDispatch({\n                    field: \"conversations\",\n                    value: updatedConversations\n                });\n                (0,_utils_app_conversation__WEBPACK_IMPORTED_MODULE_4__.saveConversations)(updatedConversations);\n                homeDispatch({\n                    field: \"loading\",\n                    value: false\n                });\n                homeDispatch({\n                    field: \"messageIsStreaming\",\n                    value: false\n                });\n            }\n        }\n    }, [\n        conversations,\n        selectedConversation,\n        stopConversationRef\n    ]);\n    const handleScroll = ()=>{\n        if (chatContainerRef.current) {\n            const { scrollTop, scrollHeight, clientHeight } = chatContainerRef.current;\n            const bottomTolerance = 30;\n            if (scrollTop + clientHeight < scrollHeight - bottomTolerance) {\n                setAutoScrollEnabled(false);\n                setShowScrollDownButton(true);\n            } else {\n                setAutoScrollEnabled(true);\n                setShowScrollDownButton(false);\n            }\n        }\n    };\n    const handleScrollDown = ()=>{\n        var _chatContainerRef_current;\n        (_chatContainerRef_current = chatContainerRef.current) === null || _chatContainerRef_current === void 0 ? void 0 : _chatContainerRef_current.scrollTo({\n            top: chatContainerRef.current.scrollHeight,\n            behavior: \"smooth\"\n        });\n    };\n    const handleSettings = ()=>{\n        setShowSettings(!showSettings);\n    };\n    const scrollDown = ()=>{\n        if (autoScrollEnabled) {\n            var _messagesEndRef_current;\n            (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView(true);\n        }\n    };\n    const throttledScrollDown = (0,_utils_data_throttle__WEBPACK_IMPORTED_MODULE_5__.throttle)(scrollDown, 250);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        throttledScrollDown();\n        selectedConversation && selectedConversation.messages && setCurrentMessage(selectedConversation.messages[selectedConversation.messages.length - 2]);\n    }, [\n        selectedConversation,\n        throttledScrollDown\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const observer = new IntersectionObserver((param)=>{\n            let [entry] = param;\n            setAutoScrollEnabled(entry.isIntersecting);\n            if (entry.isIntersecting) {\n                var _textareaRef_current;\n                (_textareaRef_current = textareaRef.current) === null || _textareaRef_current === void 0 ? void 0 : _textareaRef_current.focus();\n            }\n        }, {\n            root: null,\n            threshold: 0.5\n        });\n        const messagesEndElement = messagesEndRef.current;\n        if (messagesEndElement) {\n            observer.observe(messagesEndElement);\n        }\n        return ()=>{\n            if (messagesEndElement) {\n                observer.unobserve(messagesEndElement);\n            }\n        };\n    }, [\n        messagesEndRef\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative flex-1 overflow-hidden bg-white dark:bg-[#343d62]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-h-full overflow-x-hidden\",\n                ref: chatContainerRef,\n                onScroll: handleScroll,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Logo__WEBPACK_IMPORTED_MODULE_10__.Logo, {}, void 0, false, {\n                        fileName: \"/Users/stan/Projects/integrationcircuit.github.io/components/Chat/Chat.tsx\",\n                        lineNumber: 300,\n                        columnNumber: 9\n                    }, undefined),\n                    selectedConversation === null || selectedConversation === void 0 ? void 0 : (_selectedConversation_messages = selectedConversation.messages) === null || _selectedConversation_messages === void 0 ? void 0 : _selectedConversation_messages.map((message, index)=>{\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MemoizedChatMessage__WEBPACK_IMPORTED_MODULE_9__.MemoizedChatMessage, {\n                            message: message,\n                            messageIndex: index\n                        }, index, false, {\n                            fileName: \"/Users/stan/Projects/integrationcircuit.github.io/components/Chat/Chat.tsx\",\n                            lineNumber: 303,\n                            columnNumber: 13\n                        }, undefined);\n                    }),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatLoader__WEBPACK_IMPORTED_MODULE_8__.ChatLoader, {}, void 0, false, {\n                        fileName: \"/Users/stan/Projects/integrationcircuit.github.io/components/Chat/Chat.tsx\",\n                        lineNumber: 310,\n                        columnNumber: 21\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"h-[162px] bg-white dark:bg-[#343d62]\",\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/Users/stan/Projects/integrationcircuit.github.io/components/Chat/Chat.tsx\",\n                        lineNumber: 312,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/stan/Projects/integrationcircuit.github.io/components/Chat/Chat.tsx\",\n                lineNumber: 295,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatInput__WEBPACK_IMPORTED_MODULE_7__.ChatInput, {\n                stopConversationRef: stopConversationRef,\n                textareaRef: textareaRef,\n                onSend: (message, plugin)=>{\n                    setCurrentMessage(message);\n                    handleSend(message, 0, plugin);\n                },\n                onScrollDownClick: handleScrollDown,\n                onRegenerate: ()=>{\n                    if (currentMessage) {\n                        handleSend(currentMessage, 2, null);\n                    }\n                },\n                showScrollDownButton: showScrollDownButton\n            }, void 0, false, {\n                fileName: \"/Users/stan/Projects/integrationcircuit.github.io/components/Chat/Chat.tsx\",\n                lineNumber: 318,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/stan/Projects/integrationcircuit.github.io/components/Chat/Chat.tsx\",\n        lineNumber: 294,\n        columnNumber: 5\n    }, undefined);\n}, \"1irGp3IXnApxqYGaOjvH2vBDmz8=\", false, function() {\n    return [\n        next_i18next__WEBPACK_IMPORTED_MODULE_3__.useTranslation\n    ];\n})), \"1irGp3IXnApxqYGaOjvH2vBDmz8=\", false, function() {\n    return [\n        next_i18next__WEBPACK_IMPORTED_MODULE_3__.useTranslation\n    ];\n});\n_c1 = Chat;\nChat.displayName = \"Chat\";\nvar _c, _c1;\n$RefreshReg$(_c, \"Chat$memo\");\n$RefreshReg$(_c1, \"Chat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LG9CQUFvQjtnQkFDdEJQLFNBQVNTLFNBQVMsQ0FBQ0Y7WUFDckI7UUFDRjtJQUNGLEdBQUc7UUFBQ3JGO0tBQWU7SUFFbkIscUJBQ0UsOERBQUN3RjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQ0NDLFdBQVU7Z0JBQ1ZDLEtBQUt6RjtnQkFDTDBGLFVBQVUzQjs7a0NBRVYsOERBQUMxRix3Q0FBSUE7Ozs7O29CQUNKRyxpQ0FBQUEsNENBQUFBLGlDQUFBQSxxQkFBc0JnQyxRQUFRLGNBQTlCaEMscURBQUFBLCtCQUFnQzRFLEdBQUcsQ0FBQyxDQUFDakQsU0FBU3dGO3dCQUM3QyxxQkFDRSw4REFBQ3ZILHFFQUFtQkE7NEJBRWxCK0IsU0FBU0E7NEJBQ1R5RixjQUFjRDsyQkFGVEE7Ozs7O29CQUlYO29CQUVDL0cseUJBQVcsOERBQUNULG1EQUFVQTs7Ozs7a0NBRXZCLDhEQUFDb0g7d0JBQ0NDLFdBQVU7d0JBQ1ZDLEtBQUsxRjs7Ozs7Ozs7Ozs7OzBCQUlULDhEQUFDN0IsaURBQVNBO2dCQUNSSyxxQkFBcUJBO2dCQUNyQjBCLGFBQWFBO2dCQUNiNEYsUUFBUSxDQUFDMUYsU0FBU0U7b0JBQ2hCcEIsa0JBQWtCa0I7b0JBQ2xCRCxXQUFXQyxTQUFTLEdBQUdFO2dCQUN6QjtnQkFDQXlGLG1CQUFtQnpCO2dCQUNuQjBCLGNBQWM7b0JBQ1osSUFBSS9HLGdCQUFnQjt3QkFDbEJrQixXQUFXbEIsZ0JBQWdCLEdBQUc7b0JBQ2hDO2dCQUNGO2dCQUNBTSxzQkFBc0JBOzs7Ozs7Ozs7Ozs7QUFJOUI7O1FBNVNnQnpCLHdEQUFjQTs7OztRQUFkQSx3REFBY0E7O0dBNFMzQjs7QUFDSFMsS0FBSzBILFdBQVcsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0NoYXQvQ2hhdC50c3g/OGEwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBNdXRhYmxlUmVmT2JqZWN0LFxuICBtZW1vLFxuICB1c2VDYWxsYmFjayxcbiAgdXNlQ29udGV4dCxcbiAgdXNlRWZmZWN0LFxuICB1c2VSZWYsXG4gIHVzZVN0YXRlLFxufSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdG9hc3QgZnJvbSAncmVhY3QtaG90LXRvYXN0JztcblxuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICduZXh0LWkxOG5leHQnO1xuXG5pbXBvcnQge1xuICBzYXZlQ29udmVyc2F0aW9uLFxuICBzYXZlQ29udmVyc2F0aW9ucyxcbn0gZnJvbSAnQC91dGlscy9hcHAvY29udmVyc2F0aW9uJztcbmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnQC91dGlscy9kYXRhL3Rocm90dGxlJztcblxuaW1wb3J0IHsgQ2hhdEJvZHksIENvbnZlcnNhdGlvbiwgTWVzc2FnZSB9IGZyb20gJ0AvdHlwZXMvY2hhdCc7XG5cbmltcG9ydCBIb21lQ29udGV4dCBmcm9tICdAL3BhZ2VzL2FwaS9ob21lL2hvbWUuY29udGV4dCc7XG5cbmltcG9ydCB7IENoYXRJbnB1dCB9IGZyb20gJy4vQ2hhdElucHV0JztcbmltcG9ydCB7IENoYXRMb2FkZXIgfSBmcm9tICcuL0NoYXRMb2FkZXInO1xuaW1wb3J0IHsgTWVtb2l6ZWRDaGF0TWVzc2FnZSB9IGZyb20gJy4vTWVtb2l6ZWRDaGF0TWVzc2FnZSc7XG5pbXBvcnQgeyBMb2dvIH0gZnJvbSAnLi9Mb2dvJztcbmltcG9ydCB7IGpzb24gfSBmcm9tICdzdHJlYW0vY29uc3VtZXJzJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgc3RvcENvbnZlcnNhdGlvblJlZjogTXV0YWJsZVJlZk9iamVjdDxib29sZWFuPjtcbn1cblxuZXhwb3J0IGNvbnN0IENoYXQgPSBtZW1vKCh7IHN0b3BDb252ZXJzYXRpb25SZWYgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY2hhdCcpO1xuXG4gIGNvbnN0IHtcbiAgICBzdGF0ZToge1xuICAgICAgc2VsZWN0ZWRDb252ZXJzYXRpb24sXG4gICAgICBjb252ZXJzYXRpb25zLFxuICAgICAgbG9hZGluZyxcbiAgICB9LFxuICAgIGhhbmRsZVVwZGF0ZUNvbnZlcnNhdGlvbixcbiAgICBkaXNwYXRjaDogaG9tZURpc3BhdGNoLFxuICB9ID0gdXNlQ29udGV4dChIb21lQ29udGV4dCk7XG5cbiAgY29uc3QgW2N1cnJlbnRNZXNzYWdlLCBzZXRDdXJyZW50TWVzc2FnZV0gPSB1c2VTdGF0ZTxNZXNzYWdlPigpO1xuICBjb25zdCBbYXV0b1Njcm9sbEVuYWJsZWQsIHNldEF1dG9TY3JvbGxFbmFibGVkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xuICBjb25zdCBbc2hvd1NldHRpbmdzLCBzZXRTaG93U2V0dGluZ3NdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbc2hvd1Njcm9sbERvd25CdXR0b24sIHNldFNob3dTY3JvbGxEb3duQnV0dG9uXSA9XG4gICAgdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbaXNUeXBpbmcsIHNldElzVHlwaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FuaW1hdGVkTWVzc2FnZSwgc2V0QW5pbWF0ZWRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Nob3dMb2dvLCBzZXRTaG93TG9nb10gPSB1c2VTdGF0ZSh0cnVlKTtcblxuICBjb25zdCBsYXN0U2Nyb2xsWSA9IHVzZVJlZigwKTtcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBjaGF0Q29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgdGV4dGFyZWFSZWYgPSB1c2VSZWY8SFRNTFRleHRBcmVhRWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3QgaGFuZGxlU2VuZCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChtZXNzYWdlOiBNZXNzYWdlLCBkZWxldGVDb3VudCA9IDAsIHBsdWdpbjogUGx1Z2luIHwgbnVsbCA9IG51bGwpID0+IHtcbiAgICAgIGlmIChzZWxlY3RlZENvbnZlcnNhdGlvbikge1xuICAgICAgICBsZXQgdXBkYXRlZENvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uO1xuICAgICAgICBpZiAoZGVsZXRlQ291bnQpIHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBbLi4uc2VsZWN0ZWRDb252ZXJzYXRpb24ubWVzc2FnZXNdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsZXRlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgdXBkYXRlZE1lc3NhZ2VzLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVkQ29udmVyc2F0aW9uID0ge1xuICAgICAgICAgICAgLi4uc2VsZWN0ZWRDb252ZXJzYXRpb24sXG4gICAgICAgICAgICBtZXNzYWdlczogWy4uLnVwZGF0ZWRNZXNzYWdlcywgbWVzc2FnZV0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVkQ29udmVyc2F0aW9uID0ge1xuICAgICAgICAgICAgLi4uc2VsZWN0ZWRDb252ZXJzYXRpb24sXG4gICAgICAgICAgICBtZXNzYWdlczogWy4uLnNlbGVjdGVkQ29udmVyc2F0aW9uLm1lc3NhZ2VzLCBtZXNzYWdlXSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGhvbWVEaXNwYXRjaCh7XG4gICAgICAgICAgZmllbGQ6ICdzZWxlY3RlZENvbnZlcnNhdGlvbicsXG4gICAgICAgICAgdmFsdWU6IHVwZGF0ZWRDb252ZXJzYXRpb24sXG4gICAgICAgIH0pO1xuICAgICAgICBob21lRGlzcGF0Y2goeyBmaWVsZDogJ2xvYWRpbmcnLCB2YWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgaG9tZURpc3BhdGNoKHsgZmllbGQ6ICdtZXNzYWdlSXNTdHJlYW1pbmcnLCB2YWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3QgY2hhdEJvZHk6IENoYXRCb2R5ID0ge1xuICAgICAgICAgIG1lc3NhZ2VzOiB1cGRhdGVkQ29udmVyc2F0aW9uLm1lc3NhZ2VzLFxuICAgICAgICB9O1xuXG5cbiAgICAgICAgLy9jb25zdCBlbmRwb2ludCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9FTkRQT0lOVDtcbiAgICAgICAgLy9jb25zdCBiZWFyZXJUb2tlbiA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JFQVJFUl9UT0tFTjtcbiAgICAgICAgLy9jb25zdCBlbmRwb2ludCA9ICdodHRwczovL3NuYXBncHQubGFicy5zbmFwbG9naWNkZXYuY29tL2FwaS8xL3Jlc3Qvc2xzY2hlZC9mZWVkL3NuYXBsb2dpYy9zZS1kZW1vL3NoYXJlZC9ocl9kZW1vX3NlX3RlYW1fdGFzayc7XG4gICAgICAgIC8vY29uc3QgYmVhcmVyVG9rZW4gPSAnT2lFVk1KcWRJSkpKZUQyd21sekdkQUZ1T2xXOTJON1InO1xuXG4gICAgICAgIGxldCBlbmRwb2ludCA6IHN0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyVXJpJykgPz8gXCJcIjtcbiAgICAgICAgbGV0IGJlYXJlclRva2VuIDogc3RyaW5nICA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyVG9rZW4nKSA/PyBcIlwiO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdlbmRwb2ludDogJywgZW5kcG9pbnQpO1xuICAgICAgICBjb25zb2xlLmxvZygnYmVhcmVyVG9rZW46ICcsIGJlYXJlclRva2VuKTtcbiAgICAgICAgXG5cbiAgICAgICAgY29uc29sZS5sb2coXCJwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfRU5EUE9JTlRcIiwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX0VORFBPSU5UKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CRUFSRVJfVE9LRU5cIiwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkVBUkVSX1RPS0VOKTtcblxuICAgICAgICBpZiAodHlwZW9mIGVuZHBvaW50ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgYmVhcmVyVG9rZW4gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdORVhUX1BVQkxJQ19BUElfRU5EUE9JTlQgb3IgTkVYVF9QVUJMSUNfQkVBUkVSX1RPS0VOIGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYm9keTtcbiAgICAgICAgY29uc3QganNvblJlcXVlc3QgPSB7IFwic291cmNlXCI6IG51bGwsIFwicHJvbXB0XCI6IG1lc3NhZ2VbXCJjb250ZW50XCJdIH07XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwianNvbkNvbnRlbnRcIiwganNvblJlcXVlc3QpO1xuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoanNvblJlcXVlc3QpO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YmVhcmVyVG9rZW59YFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgICBib2R5LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwibm9ub25vICFyZXNwb25zZS5va1wiKTtcbiAgICAgICAgICBob21lRGlzcGF0Y2goeyBmaWVsZDogJ2xvYWRpbmcnLCB2YWx1ZTogZmFsc2UgfSk7XG4gICAgICAgICAgaG9tZURpc3BhdGNoKHsgZmllbGQ6ICdtZXNzYWdlSXNTdHJlYW1pbmcnLCB2YWx1ZTogZmFsc2UgfSk7XG4gICAgICAgICAgdG9hc3QuZXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5ib2R5O1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBob21lRGlzcGF0Y2goeyBmaWVsZDogJ2xvYWRpbmcnLCB2YWx1ZTogZmFsc2UgfSk7XG4gICAgICAgICAgaG9tZURpc3BhdGNoKHsgZmllbGQ6ICdtZXNzYWdlSXNTdHJlYW1pbmcnLCB2YWx1ZTogZmFsc2UgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGpzb25SZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImpzb25SZXNwb25zZVwiLCBqc29uUmVzcG9uc2UpO1xuXG4gICAgICAgICAgLypGb3Igb2xkIGxsbSBzbmFwcywgcGxlYXNlIHVzZSB0aGlzIGxpbmUgKi9cbiAgICAgICAgICAvLyBsZXQgYW5zd2VyOiBzdHJpbmcgPSBqc29uUmVzcG9uc2VbMF0uY2hvaWNlc1swXS5jb250ZW50IGFzIHN0cmluZzsgXG5cbiAgICAgICAgICAvKkZvciBuZXcgbGxtIHNuYXBwYWtjcywgcGxlYXNlIHVzZSB0aGlzIGxpbmUgKi9cbiAgICAgICAgICBjb25zb2xlLmxvZyhqc29uUmVzcG9uc2VbMF0pO1xuICAgICAgICAgIC8vIFNUQU5cbiAgICAgICAgIC8vIGxldCBhbnN3ZXI6IHN0cmluZyA9IGpzb25SZXNwb25zZVswXS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudCBhcyBzdHJpbmc7XG4gICAgICAgICAvLyBST0dFUlxuICAgICAgICAgbGV0IGFuc3dlcjogc3RyaW5nID0ganNvblJlc3BvbnNlWzBdLmNvbXBsZXRpb24gYXMgc3RyaW5nO1xuICAgICAgICAgIC8vbGV0IGFuc3dlcjogc3RyaW5nID0ganNvblJlc3BvbnNlWzBdO1xuXG4gICAgICAgICAgLy8gU1RBUlQgU1RBTlxuICAgICAgICAgIGxldCBiYXNlQW5zd2VyID0ganNvblJlc3BvbnNlWzBdO1xuICAgICAgICAgIGxldCBmaW5hbEFuc3dlcjogc3RyaW5nID0gJyc7XG4gICAgICAgICAgaWYgKGJhc2VBbnN3ZXIuY2hvaWNlcyAmJiBiYXNlQW5zd2VyLmNob2ljZXNbMF0/LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGZpbmFsQW5zd2VyID0gYmFzZUFuc3dlci5jaG9pY2VzWzBdLmNvbnRlbnQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChiYXNlQW5zd2VyLmNvbXBsZXRpb24pIHtcbiAgICAgICAgICAgIGZpbmFsQW5zd2VyID0gYmFzZUFuc3dlci5jb21wbGV0aW9uO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaW5hbEFuc3dlciA9IGJhc2VBbnN3ZXIgYXMgc3RyaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhbnN3ZXIgPSBmaW5hbEFuc3dlcjtcbiAgICAgICAgICAvLyBFTkQgU1RBTlxuXG4gICAgICAgICAgY29uc29sZS5sb2coXCJMTE0gc25hcCBhbnN3ZXI6IFwiLCBhbnN3ZXIpO1xuXG4gICAgICAgICAgLy8gKioqKioqKioqKioqKipSZWRsaW5lKioqKioqKioqKioqKioqKipcbiAgICAgICAgICAvLyByZW5kZXIgYW5zd2VyIHdpdGggUmVkIExpbmUgdXNlIGNhc2VcbiAgICAgICAgICBpZiAoYW5zd2VyICE9PSBudWxsICYmIGFuc3dlci5pbmNsdWRlcyhcIltSZWQgTGluZV1cIikpIHtcbiAgICAgICAgICAgIC8vIERpc2FibGUgcG90ZW50aWFsIEhUTUwgdGFncyBmcm9tIG9yaWdpbmFsIGFuc3dlciB0byBhdm9pZCBYU1MgQXR0YWNrXG4gICAgICAgICAgICBhbnN3ZXIucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgICAgICAgICAgIC8vIFNwbGl0IHRoZSBhbnN3ZXIgaW50byBzZW50ZW5jZXNcbiAgICAgICAgICAgIGNvbnN0IHNlbnRlbmNlcyA9IGFuc3dlci5zcGxpdCgvKD88IVxcc1xcLikoWy4hP10pLyk7XG4gICAgICAgICAgICAvLyBJZGVudGlmeSBzZW50ZW5jZXMgYWZ0ZXIgW1JlZCBMaW5lXSBhbmQgd3JhcCB0aGVtIGluIGEgc3BhbiB3aXRoIGEgcmVkIHVuZGVybGluZVxuICAgICAgICAgICAgYW5zd2VyID0gc2VudGVuY2VzXG4gICAgICAgICAgICAgIC5tYXAoKHNlbnRlbmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZW50ZW5jZTogXCIsIHNlbnRlbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VudGVuY2UuaW5jbHVkZXMoJ1tSZWQgTGluZV0nKSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgWywgcmVzdE9mU2VudGVuY2VdID0gc2VudGVuY2Uuc3BsaXQoJ1tSZWQgTGluZV0nKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBgIDxzcGFuIHN0eWxlPVwiYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHJlZDtcIj4ke3Jlc3RPZlNlbnRlbmNlLnRyaW0oKX08L3NwYW4+YDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbnRlbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZW5kZXJlZCBIVE1MIHJlc3VsdCB3aXRoIHJlZCBsaW5lOiBcIiwgYW5zd2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gKioqKioqKioqKioqKipSZWRsaW5lKioqKioqKioqKioqKioqKipcbiAgICAgICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXM6IE1lc3NhZ2VbXSA9IFtcbiAgICAgICAgICAgIC4uLnVwZGF0ZWRDb252ZXJzYXRpb24ubWVzc2FnZXMsXG4gICAgICAgICAgICB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiBhbnN3ZXIgfSxcbiAgICAgICAgICBdO1xuICAgICAgICAgIHVwZGF0ZWRDb252ZXJzYXRpb24gPSB7XG4gICAgICAgICAgICAuLi51cGRhdGVkQ29udmVyc2F0aW9uLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHVwZGF0ZWRNZXNzYWdlcyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGhvbWVEaXNwYXRjaCh7XG4gICAgICAgICAgICBmaWVsZDogJ3NlbGVjdGVkQ29udmVyc2F0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiB1cGRhdGVkQ29udmVyc2F0aW9uLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNhdmVDb252ZXJzYXRpb24odXBkYXRlZENvbnZlcnNhdGlvbik7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZENvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbltdID0gY29udmVyc2F0aW9ucy5tYXAoXG4gICAgICAgICAgICAoY29udmVyc2F0aW9uKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChjb252ZXJzYXRpb24uaWQgPT09IHNlbGVjdGVkQ29udmVyc2F0aW9uLmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRDb252ZXJzYXRpb247XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNhdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAodXBkYXRlZENvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB1cGRhdGVkQ29udmVyc2F0aW9ucy5wdXNoKHVwZGF0ZWRDb252ZXJzYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBob21lRGlzcGF0Y2goeyBmaWVsZDogJ2NvbnZlcnNhdGlvbnMnLCB2YWx1ZTogdXBkYXRlZENvbnZlcnNhdGlvbnMgfSk7XG4gICAgICAgICAgc2F2ZUNvbnZlcnNhdGlvbnModXBkYXRlZENvbnZlcnNhdGlvbnMpO1xuICAgICAgICAgIGhvbWVEaXNwYXRjaCh7IGZpZWxkOiAnbG9hZGluZycsIHZhbHVlOiBmYWxzZSB9KTtcbiAgICAgICAgICBob21lRGlzcGF0Y2goeyBmaWVsZDogJ21lc3NhZ2VJc1N0cmVhbWluZycsIHZhbHVlOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW1xuICAgICAgY29udmVyc2F0aW9ucyxcbiAgICAgIHNlbGVjdGVkQ29udmVyc2F0aW9uLFxuICAgICAgc3RvcENvbnZlcnNhdGlvblJlZixcbiAgICBdLFxuICApO1xuXG4gIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHtcbiAgICBpZiAoY2hhdENvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCB7IHNjcm9sbFRvcCwgc2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHQgfSA9XG4gICAgICAgIGNoYXRDb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgIGNvbnN0IGJvdHRvbVRvbGVyYW5jZSA9IDMwO1xuXG4gICAgICBpZiAoc2Nyb2xsVG9wICsgY2xpZW50SGVpZ2h0IDwgc2Nyb2xsSGVpZ2h0IC0gYm90dG9tVG9sZXJhbmNlKSB7XG4gICAgICAgIHNldEF1dG9TY3JvbGxFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgc2V0U2hvd1Njcm9sbERvd25CdXR0b24odHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRBdXRvU2Nyb2xsRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgc2V0U2hvd1Njcm9sbERvd25CdXR0b24oZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTY3JvbGxEb3duID0gKCkgPT4ge1xuICAgIGNoYXRDb250YWluZXJSZWYuY3VycmVudD8uc2Nyb2xsVG8oe1xuICAgICAgdG9wOiBjaGF0Q29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0LFxuICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNldHRpbmdzID0gKCkgPT4ge1xuICAgIHNldFNob3dTZXR0aW5ncyghc2hvd1NldHRpbmdzKTtcbiAgfTtcblxuICBjb25zdCBzY3JvbGxEb3duID0gKCkgPT4ge1xuICAgIGlmIChhdXRvU2Nyb2xsRW5hYmxlZCkge1xuICAgICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcodHJ1ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCB0aHJvdHRsZWRTY3JvbGxEb3duID0gdGhyb3R0bGUoc2Nyb2xsRG93biwgMjUwKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRocm90dGxlZFNjcm9sbERvd24oKTtcbiAgICBzZWxlY3RlZENvbnZlcnNhdGlvbiAmJiBzZWxlY3RlZENvbnZlcnNhdGlvbi5tZXNzYWdlcyAmJlxuICAgICAgc2V0Q3VycmVudE1lc3NhZ2UoXG4gICAgICAgIHNlbGVjdGVkQ29udmVyc2F0aW9uLm1lc3NhZ2VzW3NlbGVjdGVkQ29udmVyc2F0aW9uLm1lc3NhZ2VzLmxlbmd0aCAtIDJdLFxuICAgICAgKTtcbiAgfSwgW3NlbGVjdGVkQ29udmVyc2F0aW9uLCB0aHJvdHRsZWRTY3JvbGxEb3duXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChbZW50cnldKSA9PiB7XG4gICAgICAgIHNldEF1dG9TY3JvbGxFbmFibGVkKGVudHJ5LmlzSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgdGV4dGFyZWFSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcm9vdDogbnVsbCxcbiAgICAgICAgdGhyZXNob2xkOiAwLjUsXG4gICAgICB9LFxuICAgICk7XG4gICAgY29uc3QgbWVzc2FnZXNFbmRFbGVtZW50ID0gbWVzc2FnZXNFbmRSZWYuY3VycmVudDtcbiAgICBpZiAobWVzc2FnZXNFbmRFbGVtZW50KSB7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKG1lc3NhZ2VzRW5kRWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAobWVzc2FnZXNFbmRFbGVtZW50KSB7XG4gICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShtZXNzYWdlc0VuZEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFttZXNzYWdlc0VuZFJlZl0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LTEgb3ZlcmZsb3ctaGlkZGVuIGJnLXdoaXRlIGRhcms6YmctWyMzNDNkNjJdXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cIm1heC1oLWZ1bGwgb3ZlcmZsb3cteC1oaWRkZW5cIlxuICAgICAgICByZWY9e2NoYXRDb250YWluZXJSZWZ9XG4gICAgICAgIG9uU2Nyb2xsPXtoYW5kbGVTY3JvbGx9XG4gICAgICA+XG4gICAgICAgIDxMb2dvIC8+XG4gICAgICAgIHtzZWxlY3RlZENvbnZlcnNhdGlvbj8ubWVzc2FnZXM/Lm1hcCgobWVzc2FnZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPE1lbW9pemVkQ2hhdE1lc3NhZ2VcbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cbiAgICAgICAgICAgICAgbWVzc2FnZUluZGV4PXtpbmRleH1cbiAgICAgICAgICAgIC8+KTtcbiAgICAgICAgfSl9XG5cbiAgICAgICAge2xvYWRpbmcgJiYgPENoYXRMb2FkZXIgLz59XG5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImgtWzE2MnB4XSBiZy13aGl0ZSBkYXJrOmJnLVsjMzQzZDYyXVwiXG4gICAgICAgICAgcmVmPXttZXNzYWdlc0VuZFJlZn1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8Q2hhdElucHV0XG4gICAgICAgIHN0b3BDb252ZXJzYXRpb25SZWY9e3N0b3BDb252ZXJzYXRpb25SZWZ9XG4gICAgICAgIHRleHRhcmVhUmVmPXt0ZXh0YXJlYVJlZn1cbiAgICAgICAgb25TZW5kPXsobWVzc2FnZSwgcGx1Z2luKSA9PiB7XG4gICAgICAgICAgc2V0Q3VycmVudE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgaGFuZGxlU2VuZChtZXNzYWdlLCAwLCBwbHVnaW4pO1xuICAgICAgICB9fVxuICAgICAgICBvblNjcm9sbERvd25DbGljaz17aGFuZGxlU2Nyb2xsRG93bn1cbiAgICAgICAgb25SZWdlbmVyYXRlPXsoKSA9PiB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRNZXNzYWdlKSB7XG4gICAgICAgICAgICBoYW5kbGVTZW5kKGN1cnJlbnRNZXNzYWdlLCAyLCBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAgIHNob3dTY3JvbGxEb3duQnV0dG9uPXtzaG93U2Nyb2xsRG93bkJ1dHRvbn1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59KTtcbkNoYXQuZGlzcGxheU5hbWUgPSAnQ2hhdCc7XG4iXSwibmFtZXMiOlsibWVtbyIsInVzZUNhbGxiYWNrIiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidG9hc3QiLCJ1c2VUcmFuc2xhdGlvbiIsInNhdmVDb252ZXJzYXRpb24iLCJzYXZlQ29udmVyc2F0aW9ucyIsInRocm90dGxlIiwiSG9tZUNvbnRleHQiLCJDaGF0SW5wdXQiLCJDaGF0TG9hZGVyIiwiTWVtb2l6ZWRDaGF0TWVzc2FnZSIsIkxvZ28iLCJDaGF0Iiwic3RvcENvbnZlcnNhdGlvblJlZiIsInNlbGVjdGVkQ29udmVyc2F0aW9uIiwidCIsInN0YXRlIiwiY29udmVyc2F0aW9ucyIsImxvYWRpbmciLCJoYW5kbGVVcGRhdGVDb252ZXJzYXRpb24iLCJkaXNwYXRjaCIsImhvbWVEaXNwYXRjaCIsImN1cnJlbnRNZXNzYWdlIiwic2V0Q3VycmVudE1lc3NhZ2UiLCJhdXRvU2Nyb2xsRW5hYmxlZCIsInNldEF1dG9TY3JvbGxFbmFibGVkIiwic2hvd1NldHRpbmdzIiwic2V0U2hvd1NldHRpbmdzIiwic2hvd1Njcm9sbERvd25CdXR0b24iLCJzZXRTaG93U2Nyb2xsRG93bkJ1dHRvbiIsImlzVHlwaW5nIiwic2V0SXNUeXBpbmciLCJhbmltYXRlZE1lc3NhZ2UiLCJzZXRBbmltYXRlZE1lc3NhZ2UiLCJzaG93TG9nbyIsInNldFNob3dMb2dvIiwibGFzdFNjcm9sbFkiLCJtZXNzYWdlc0VuZFJlZiIsImNoYXRDb250YWluZXJSZWYiLCJ0ZXh0YXJlYVJlZiIsImhhbmRsZVNlbmQiLCJtZXNzYWdlIiwiZGVsZXRlQ291bnQiLCJwbHVnaW4iLCJ1cGRhdGVkQ29udmVyc2F0aW9uIiwidXBkYXRlZE1lc3NhZ2VzIiwibWVzc2FnZXMiLCJpIiwicG9wIiwiZmllbGQiLCJ2YWx1ZSIsImNoYXRCb2R5IiwibG9jYWxTdG9yYWdlIiwiZW5kcG9pbnQiLCJnZXRJdGVtIiwiYmVhcmVyVG9rZW4iLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9FTkRQT0lOVCIsIk5FWFRfUFVCTElDX0JFQVJFUl9UT0tFTiIsIkVycm9yIiwiYm9keSIsImpzb25SZXF1ZXN0IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInNpZ25hbCIsIm9rIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwiZGF0YSIsImJhc2VBbnN3ZXIiLCJqc29uUmVzcG9uc2UiLCJqc29uIiwiYW5zd2VyIiwiY29tcGxldGlvbiIsImZpbmFsQW5zd2VyIiwiY2hvaWNlcyIsImNvbnRlbnQiLCJpbmNsdWRlcyIsInJlcGxhY2UiLCJzZW50ZW5jZXMiLCJzcGxpdCIsIm1hcCIsInNlbnRlbmNlIiwicmVzdE9mU2VudGVuY2UiLCJ0cmltIiwiam9pbiIsInJvbGUiLCJ1cGRhdGVkQ29udmVyc2F0aW9ucyIsImNvbnZlcnNhdGlvbiIsImlkIiwibGVuZ3RoIiwicHVzaCIsImhhbmRsZVNjcm9sbCIsImN1cnJlbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJib3R0b21Ub2xlcmFuY2UiLCJoYW5kbGVTY3JvbGxEb3duIiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsImhhbmRsZVNldHRpbmdzIiwic2Nyb2xsRG93biIsInNjcm9sbEludG9WaWV3IiwidGhyb3R0bGVkU2Nyb2xsRG93biIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwiZm9jdXMiLCJyb290IiwidGhyZXNob2xkIiwibWVzc2FnZXNFbmRFbGVtZW50Iiwib2JzZXJ2ZSIsInVub2JzZXJ2ZSIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsIm9uU2Nyb2xsIiwiaW5kZXgiLCJtZXNzYWdlSW5kZXgiLCJvblNlbmQiLCJvblNjcm9sbERvd25DbGljayIsIm9uUmVnZW5lcmF0ZSIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/Chat/Chat.tsx\n"));

/***/ })

});